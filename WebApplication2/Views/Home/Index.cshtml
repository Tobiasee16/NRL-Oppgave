@model string
@{
    ViewData["Title"] = "Home Page";
}

@if (!string.IsNullOrEmpty(Model))
{
    <div class="alert alert-success d-flex align-items-center gap-2" role="alert">
        <span class="badge bg-success-subtle border border-success-subtle text-success-emphasis me-1">✓</span>
        <span>@Model</span>
    </div>
}

<section class="hero text-center">
    <h1 class="display-5 fw-semibold mb-2">Welcome</h1>
    <p class="text-muted mb-4">
        Learn about <a href="https://learn.microsoft.com/aspnet/core" target="_blank" rel="noopener">building Web apps with ASP.NET Core</a>.
    </p>

    <div class="d-flex flex-wrap justify-content-center gap-3">
        <a asp-action="DataForm" asp-controller="Obstacle" class="btn btn-primary btn-lg px-4">
            Register Obstacle
        </a>

        @* Vis Admin-knapp bare når bruker er Admin *@
        @if (User.IsInRole("Admin"))
        {
            <a asp-action="Index" asp-controller="Admin" class="btn btn-outline-secondary px-4">
                Admin Panel
            </a>
        }
    </div>

    @* Liten status for innlogging under CTA *@
    <div class="mt-4 small text-muted">
        @if (User.Identity?.IsAuthenticated ?? false)
        {
            <span>Du er innlogget som <strong>@User.Identity!.Name</strong>.</span>
        }
        else
        {
            <span>Har du konto? Bruk lenkene oppe til høyre for å logge inn eller registrere deg.</span>
        }
    </div>
</section>
